<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ANH CHIEN'S RESTAURANT | H·ªá th·ªëng qu·∫£n l√Ω</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <aside class="sidebar">
      <div class="logo-area">
        <img src="image_1266de.jpg" alt="IT Logo" class="logo-img" />
        <div class="brand-text">ANH CHIEN'S<br />RESTAURANT</div>
      </div>
      <div class="user-info">
        <div class="user-avatar">C</div>
        <div style="display: flex; flex-direction: column">
          <span style="font-weight: bold; font-size: 0.95rem"
            >Qu·∫£n l√Ω Chi·∫øn</span
          >
          <span style="font-size: 0.8rem; color: #94a3b8">Administrator</span>
        </div>
      </div>
      <ul class="menu-list">
        <li
          id="nav-dashboard"
          class="menu-item active"
          onclick="switchView('dashboard')"
        >
          <i class="fas fa-chart-line"></i> <span>Xem b√°o c√°o doanh thu</span>
        </li>
        <li id="nav-menu" class="menu-item" onclick="switchView('menu')">
          <i class="fas fa-utensils"></i> <span>Qu·∫£n l√Ω menu</span>
        </li>
        <li id="nav-tables" class="menu-item" onclick="switchView('tables')">
          <i class="fas fa-qrcode"></i> <span>Qu·∫£n l√Ω b√†n & QR</span>
        </li>
        <li id="nav-orders" class="menu-item" onclick="switchView('orders')">
          <i class="fas fa-clipboard-list"></i> <span>Qu·∫£n l√Ω ƒë∆°n h√†ng</span>
        </li>
        <li id="nav-staff" class="menu-item" onclick="switchView('staff')">
          <i class="fas fa-user-tie"></i> <span>Qu·∫£n l√Ω nh√¢n vi√™n</span>
        </li>
      </ul>
    </aside>

    <main class="main-content">
      <header class="top-bar">
        <div id="page-header-title" class="page-title">
          T·ªïng quan kinh doanh
        </div>
        <div class="top-actions">
          <a
            href="https://www.facebook.com/share/16jXK7ZMYq/"
            target="_blank"
            class="action-link"
            ><span>‚ùì</span> Tr·ª£ gi√∫p</a
          >
          <a
            href="https://mail.google.com/mail/?view=cm&fs=1&to=trunn1510@gmail.com&su=G√≥p √Ω"
            target="_blank"
            class="action-link"
            ><span>üí¨</span> G√≥p √Ω</a
          >

          <div class="noti-wrapper">
            <div class="action-link" onclick="toggleNotiDropdown()">
              <span>üîî</span> Th√¥ng b√°o
              <span id="noti-badge" class="noti-badge" style="display: none"
                >0</span
              >
            </div>
            <div id="noti-dropdown" class="noti-dropdown">
              <div class="noti-header">Th√¥ng b√°o m·ªõi</div>
              <div id="noti-list" class="noti-list">
                <div style="padding: 15px; text-align: center; color: #999">
                  Ch∆∞a c√≥ th√¥ng b√°o n√†o
                </div>
              </div>
            </div>
          </div>
        </div>
      </header>

      <div class="dashboard-container">
        <div id="view-dashboard">
          <div class="section-title">B√°o c√°o nhanh</div>
          <div class="stats-grid">
            <div class="card">
              <div class="card-header">
                <span>DOANH THU H√îM NAY</span><i class="fas fa-ellipsis-h"></i>
              </div>
              <div class="card-body">
                <ul class="stat-list">
                  <li class="stat-item">
                    <span class="dot bg-blue"></span> Ti·ªÅn m·∫∑t
                    <span class="amount">5.200k</span>
                  </li>
                  <li class="stat-item">
                    <span class="dot bg-pink"></span> Chuy·ªÉn kho·∫£n
                    <span class="amount">8.500k</span>
                  </li>
                  <li class="stat-item">
                    <span class="dot bg-purple"></span> Th·∫ª
                    <span class="amount">2.100k</span>
                  </li>
                </ul>
                <div id="chart-revenue" class="chart-wrapper"></div>
              </div>
            </div>
            <div class="card">
              <div class="card-header">
                <span>TR·∫†NG TH√ÅI B√ÄN</span><i class="fas fa-ellipsis-h"></i>
              </div>
              <div class="card-body">
                <ul class="stat-list">
                  <li class="stat-item">
                    <span class="dot bg-green"></span> B√†n tr·ªëng
                    <span class="amount">12</span>
                  </li>
                  <li class="stat-item">
                    <span class="dot bg-pink"></span> ƒêang ph·ª•c v·ª• (C√≥ kh√°ch)
                    <span class="amount">8</span>
                  </li>
                  <li class="stat-item">
                    <span class="dot bg-blue"></span> ƒê·∫∑t tr∆∞·ªõc
                    <span class="amount">4</span>
                  </li>
                </ul>
                <div id="chart-table" class="chart-wrapper"></div>
              </div>
            </div>
            <div class="card">
              <div class="card-header">
                <span>NGU·ªíN ƒê∆†N H√ÄNG</span><i class="fas fa-ellipsis-h"></i>
              </div>
              <div class="card-body">
                <ul class="stat-list">
                  <li class="stat-item">
                    <span class="dot bg-blue"></span> T·∫°i b√†n (QR)
                    <span class="amount">45</span>
                  </li>
                  <li class="stat-item">
                    <span class="dot bg-pink"></span> Mang v·ªÅ
                    <span class="amount">12</span>
                  </li>
                  <li class="stat-item">
                    <span class="dot bg-purple"></span> App Giao h√†ng
                    <span class="amount">18</span>
                  </li>
                </ul>
                <div id="chart-order" class="chart-wrapper"></div>
              </div>
            </div>
          </div>
        </div>

        <div id="view-menu" style="display: none">
          <div
            style="
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 20px;
            "
          >
            <div class="section-title" style="margin-bottom: 0">
              Danh s√°ch m√≥n ƒÉn
            </div>
            <button class="action-btn" onclick="openAddModal()">
              + Th√™m m√≥n m·ªõi
            </button>
          </div>
          <div id="menu-grid-container" class="menu-grid"></div>
        </div>

        <div id="view-tables" style="display: none">
          <div
            style="
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 20px;
            "
          >
            <div class="section-title" style="margin-bottom: 0">
              S∆° ƒë·ªì b√†n ƒÉn
            </div>
            <div class="filter-group">
              <button class="filter-btn active" onclick="filterTables('all')">
                T·∫•t c·∫£
              </button>
              <button class="filter-btn" onclick="filterTables('T·∫ßng 1')">
                T·∫ßng 1
              </button>
              <button class="filter-btn" onclick="filterTables('T·∫ßng 2')">
                T·∫ßng 2
              </button>
              <button class="filter-btn" onclick="filterTables('S√¢n v∆∞·ªùn')">
                S√¢n v∆∞·ªùn
              </button>
            </div>
          </div>
          <div id="table-grid-container" class="table-grid"></div>
        </div>

        <div id="view-orders" style="display: none">
          <div
            style="
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 20px;
            "
          >
            <div class="section-title" style="margin-bottom: 0">
              Danh s√°ch ƒë∆°n h√†ng
            </div>
            <div class="filter-group">
              <button class="filter-btn active" onclick="filterOrders('all')">
                T·∫•t c·∫£
              </button>
              <button class="filter-btn" onclick="filterOrders('pending')">
                Ch·ªù b·∫øp
              </button>
              <button class="filter-btn" onclick="filterOrders('completed')">
                Ho√†n th√†nh
              </button>
            </div>
          </div>
          <div class="table-responsive">
            <table class="custom-table">
              <thead>
                <tr>
                  <th>M√£ ƒê∆°n</th>
                  <th>B√†n/Kh√°ch</th>
                  <th>Th·ªùi gian</th>
                  <th>T·ªïng ti·ªÅn</th>
                  <th>Tr·∫°ng th√°i</th>
                  <th>H√†nh ƒë·ªông</th>
                </tr>
              </thead>
              <tbody id="order-list-container"></tbody>
            </table>
          </div>
        </div>

        <div id="view-staff" style="display: none">
          <div
            style="
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 20px;
            "
          >
            <div class="section-title" style="margin-bottom: 0">
              ƒê·ªôi ng≈© nh√¢n vi√™n
            </div>

            <div style="display: flex; gap: 10px">
              <div class="search-box">
                <i class="fas fa-search"></i>
                <input
                  type="text"
                  id="staff-search-input"
                  onkeyup="searchStaff()"
                  placeholder="T√¨m t√™n nh√¢n vi√™n..."
                />
              </div>

              <button class="action-btn" onclick="openStaffModal()">
                <i class="fas fa-plus"></i> Th√™m nh√¢n vi√™n
              </button>
            </div>
          </div>
          <div id="staff-grid-container" class="staff-grid"></div>
        </div>
      </div>

      <div id="dishModal" class="modal">
        <div class="modal-content">
          <span class="close-btn" onclick="closeModal('dishModal')"
            >&times;</span
          >
          <div class="modal-left-col">
            <img id="modal-img" src="" class="modal-dish-img" />
            <div id="img-input-container" style="display: none; padding: 10px">
              <label style="font-weight: bold">T·∫£i ·∫£nh:</label>
              <input
                type="file"
                id="edit-img-file"
                class="edit-input"
                accept="image/*"
              />
              <input
                type="text"
                id="edit-img-input"
                class="edit-input"
                placeholder="Ho·∫∑c d√°n link..."
              />
            </div>
          </div>
          <div class="modal-details">
            <div id="modal-title-container">
              <h2 id="modal-title" class="modal-title">T√™n m√≥n</h2>
            </div>
            <div id="modal-price-container">
              <span id="modal-price" class="modal-price">0ƒë</span>
            </div>
            <div class="modal-meta" style="display: flex; align-items: center">
              <span style="font-weight: bold; margin-right: 10px"
                >T√¨nh tr·∫°ng:</span
              >
              <span
                id="modal-status"
                style="font-weight: bold; margin-right: 15px"
                >‚óè C√≤n h√†ng</span
              >
              <button
                id="btn-toggle-status"
                onclick="toggleStatus()"
                class="status-btn"
              >
                <i class="fas fa-sync-alt"></i>
              </button>
            </div>
            <div id="modal-desc-container">
              <p id="modal-desc" class="modal-desc">M√¥ t·∫£...</p>
            </div>
            <div style="display: flex; gap: 10px; margin-top: 15px">
              <button
                id="edit-btn"
                onclick="toggleEditMode()"
                class="action-btn"
              >
                <i class="fas fa-edit"></i> <span id="edit-btn-text">S·ª≠a</span>
              </button>
              <button
                id="delete-btn"
                onclick="deleteDish()"
                class="action-btn btn-red"
              >
                <i class="fas fa-trash"></i> X√≥a
              </button>
            </div>
          </div>
        </div>
      </div>

      <div id="tableModal" class="modal">
        <div class="modal-content" style="width: 400px; max-width: 90%">
          <span class="close-btn" onclick="closeModal('tableModal')"
            >&times;</span
          >
          <div style="padding: 30px; text-align: center">
            <h2 id="table-title" style="color: var(--text-primary)">
              B√†n s·ªë 01
            </h2>
            <p
              id="table-area"
              style="color: var(--text-secondary); margin-bottom: 20px"
            >
              Khu v·ª±c: T·∫ßng 1
            </p>
            <div class="qr-container">
              <img id="table-qr-img" src="" style="width: 150px" />
            </div>
            <div style="margin: 20px 0">
              <strong>Tr·∫°ng th√°i: </strong
              ><span id="table-status-text">Tr·ªëng</span>
            </div>
            <div style="display: flex; gap: 10px; justify-content: center">
              <button
                onclick="changeTableStatus('occupied')"
                class="action-btn"
                style="background: var(--chart-pink); width: auto"
              >
                C√≥ kh√°ch
              </button>
              <button
                onclick="changeTableStatus('empty')"
                class="action-btn"
                style="background: var(--chart-green); width: auto"
              >
                Tr·∫£ b√†n
              </button>
            </div>
          </div>
        </div>
      </div>

      <div id="orderModal" class="modal">
        <div class="modal-content" style="width: 500px; max-width: 95%">
          <span class="close-btn" onclick="closeModal('orderModal')"
            >&times;</span
          >
          <div style="padding: 25px">
            <h2
              style="
                border-bottom: 2px solid #f1f5f9;
                padding-bottom: 10px;
                margin-bottom: 15px;
              "
            >
              Chi ti·∫øt ƒë∆°n
              <span id="order-id-modal" style="color: var(--sidebar-active)"
                >#</span
              >
            </h2>
            <div id="order-items-list" style="margin-bottom: 20px"></div>
            <div
              style="
                display: flex;
                justify-content: space-between;
                font-size: 1.2rem;
                font-weight: bold;
                margin-bottom: 20px;
              "
            >
              <span>T·ªïng c·ªông:</span>
              <span id="order-total-modal" style="color: var(--status-red)"
                >0ƒë</span
              >
            </div>
            <button
              onclick="completeOrder()"
              class="action-btn"
              style="
                width: 100%;
                justify-content: center;
                background: var(--chart-green);
              "
            >
              Ho√†n th√†nh ƒë∆°n
            </button>
          </div>
        </div>
      </div>

      <div id="staffModal" class="modal">
        <div class="modal-content" style="width: 450px; max-width: 90%">
          <span class="close-btn" onclick="closeModal('staffModal')"
            >&times;</span
          >
          <div style="padding: 25px">
            <h2
              id="staff-modal-title"
              style="text-align: center; margin-bottom: 20px"
            >
              Th√™m nh√¢n vi√™n m·ªõi
            </h2>

            <div style="text-align: center; margin-bottom: 15px">
              <img
                id="staff-preview-img"
                src="https://via.placeholder.com/100"
                style="
                  width: 80px;
                  height: 80px;
                  border-radius: 50%;
                  object-fit: cover;
                  border: 2px solid #eee;
                "
              />
            </div>

            <div class="form-group">
              <label>H·ªç v√† t√™n:</label>
              <input
                type="text"
                id="staff-name-input"
                class="edit-input"
                placeholder="V√≠ d·ª•: Nguy·ªÖn VƒÉn A"
              />
            </div>

            <div class="form-group">
              <label>Ch·ª©c v·ª•:</label>
              <select id="staff-role-input" class="edit-input">
                <option value="Qu·∫£n l√Ω">Qu·∫£n l√Ω</option>
                <option value="Thu ng√¢n">Thu ng√¢n</option>
                <option value="ƒê·∫ßu b·∫øp">ƒê·∫ßu b·∫øp</option>
                <option value="Ph·ª•c v·ª•">Ph·ª•c v·ª•</option>
                <option value="B·∫£o v·ªá">B·∫£o v·ªá</option>
              </select>
            </div>

            <div class="form-group">
              <label>Tr·∫°ng th√°i:</label>
              <select id="staff-status-input" class="edit-input">
                <option value="online">üü¢ ƒêang l√†m vi·ªác</option>
                <option value="offline">‚ö™ Ngh·ªâ ca / Offline</option>
              </select>
            </div>

            <div class="form-group">
              <label>Link ·∫£nh (Avatar):</label>
              <input
                type="text"
                id="staff-img-input"
                class="edit-input"
                placeholder="https://..."
                onchange="document.getElementById('staff-preview-img').src = this.value"
              />
            </div>

            <button
              onclick="saveStaff()"
              class="action-btn"
              style="width: 100%; margin-top: 25px; justify-content: center"
            >
              <i class="fas fa-save"></i> L∆∞u th√¥ng tin
            </button>
          </div>
        </div>
      </div>

      <div id="chart-tooltip" class="chart-tooltip"></div>
    </main>

    <script src="script.js"></script>
  </body>
</html>
